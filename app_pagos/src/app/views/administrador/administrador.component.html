<div class="container mx-auto p-6 bg-white dark:bg-gray-800 rounded-lg shadow">
  <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Lista de Administradores</h2>

  <!-- Tabla de Usuarios -->
  <table class="w-full text-left text-gray-800 dark:text-gray-200">
    <thead>
      <tr class="border-b dark:border-gray-700">
        <th class="p-4">ID</th>
        <th class="p-4">Nombre de Usuario</th>
        <th class="p-4">Email</th>
        <th class="p-4">Nombres</th>
        <th class="p-4">Apellidos</th>
        <th class="p-4">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuariosPaginados" class="border-b dark:border-gray-700">
        <td class="p-4">{{ usuario.id_usuario }}</td>
        <td class="p-4">{{ usuario.nombre_usuario }}</td>
        <td class="p-4">{{ usuario.email }}</td>
        <td class="p-4">{{ usuario.nombres }}</td>
        <td class="p-4">{{ usuario.apellidos }}</td>
        <td class="p-4">
          <button (click)="iniciarEdicion(usuario)"
            class="bg-yellow-500 hover:bg-yellow-600 text-white py-1 px-3 rounded">
            Editar
          </button>
          <button (click)="eliminarUsuario(usuario.id_usuario)"
            class="bg-red-500 hover:bg-red-600 text-white py-1 px-3 rounded">
            Eliminar
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Paginación -->
  <div class="flex justify-center mt-4">
    <button *ngFor="let page of [1, 2, 3, 4]" (click)="cambiarPagina(page)" [class.bg-blue-500]="currentPage === page"
      [class.bg-gray-300]="currentPage !== page" class="mx-1 px-3 py-1 rounded text-white hover:bg-blue-700">
      {{ page }}
    </button>
  </div>

  <!-- Formulario de Creación de Usuario (Oculto durante la edición) -->
  <div *ngIf="!enEdicion">
    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4 mt-10">Crear Nuevo Administrador</h2>
    <form [formGroup]="adminForm" (ngSubmit)="crearAdministrador()">
      <div class="flex flex-col mb-4">
        <label for="nombres" class="text-gray-700 dark:text-gray-300 mb-1">Nombres</label>
        <input formControlName="nombres" id="nombres" type="text" placeholder="Nombres"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="apellidos" class="text-gray-700 dark:text-gray-300 mb-1">Apellidos</label>
        <input formControlName="apellidos" id="apellidos" type="text" placeholder="Apellidos"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="email" class="text-gray-700 dark:text-gray-300 mb-1">Correo Electrónico</label>
        <input formControlName="email" id="email" type="email" placeholder="Correo Electrónico"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="password" class="text-gray-700 dark:text-gray-300 mb-1">Contraseña</label>
        <input formControlName="password" type="password" id="password" placeholder="Contraseña"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="confirm_password" class="text-gray-700 dark:text-gray-300 mb-1">Confirmar Contraseña</label>
        <input formControlName="confirm_password" id="confirm_password" type="password"
          placeholder="Confirmar Contraseña"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <!-- Otros campos del formulario de creación, siguiendo el mismo estilo de diseño -->

      <button type="submit" class="w-full bg-green-500 hover:bg-green-700 text-white py-2 rounded-md">Crear
        Administrador</button>
    </form>
  </div>

  <!-- Formulario de Edición de Usuario (Visible solo durante la edición) -->
  <div *ngIf="enEdicion">
    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4 mt-10">Editar Administrador</h2>
    <form [formGroup]="editForm" (ngSubmit)="guardarEdicion()">
      <div class="flex flex-col mb-4">
        <label for="nombre_usuario" class="text-gray-700 dark:text-gray-300 mb-1">Nombre de Usuario</label>
        <input formControlName="nombre_usuario" id="nombre_usuario" type="text" placeholder="Nuevo nombre de Usuario"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="nombres" class="text-gray-700 dark:text-gray-300 mb-1">Nombres</label>
        <input formControlName="nombres" id="nombres" type="text" placeholder="Nombres"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="apellidos" class="text-gray-700 dark:text-gray-300 mb-1">Apellidos</label>
        <input formControlName="apellidos" id="apellidos" type="text" placeholder="Apellidos"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>

      <div class="flex flex-col mb-4">
        <label for="email" class="text-gray-700 dark:text-gray-300 mb-1">Correo Electrónico</label>
        <input formControlName="email" id="email" type="email" placeholder="Correo Electrónico"
          class="border border-gray-300 dark:border-gray-600 rounded-md py-2 px-3 bg-white dark:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
      </div>


      <!-- Otros campos del formulario de edición -->

      <div class="flex gap-4">
        <button type="submit" class="w-full bg-blue-500 hover:bg-blue-700 text-white py-2 rounded-md">Guardar
          Cambios</button>
        <button type="button" (click)="cancelarEdicion()"
          class="w-full bg-gray-500 hover:bg-gray-700 text-white py-2 rounded-md">Cancelar</button>
      </div>
    </form>
  </div>
</div>
